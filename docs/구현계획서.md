# 이르미(IRMI) 민생위기 조기경보 레이더 - 구현계획서

---

## 1. 구현 전략 개요

### 1-1. 핵심 원칙

- **Mock-First**: 모든 데이터를 Mock JSON으로 먼저 정의하고, UI가 이를 직접 import하여 표시
- **UI-First**: Mock 데이터 기반으로 4개 탭 UI를 완전히 구현한 뒤 API 계층 추가
- **교체 최소화**: 해커톤 당일에는 Mock JSON을 실제 JSON으로 교체하고, API 호출부만 전환
- **AI 차별화**: 단순 대시보드를 넘어 "AI가 해석하고 대화하는 서비스"로 차별화

### 1-2. 구현 흐름

```
Phase 1: 기반 구축 (타입, 상수, 디자인 토큰, Mock JSON)
    |
Phase 2: 공통 레이아웃 (헤더, 탭 네비게이션)
    |
Phase 3: 대시보드 탭 UI + AI 브리핑 패널
    |
Phase 4: 위기 신호 탭 UI
    |
Phase 5: 뉴스 분석 탭 UI
    |
Phase 6: 지역별 현황 탭 UI
    |
Phase 7: 차별화 기능 UI (AI 대화형 질의 + 위기 연쇄 반응 맵)
    |
Phase 8: API Route 스캐폴딩 (Mock 반환)
    |
Phase 9: [해커톤 당일] 실데이터 교체 + Claude API 연결
```

### 1-3. 차별화 전략 (발표 임팩트)

본 프로젝트는 3가지 AI 기반 차별화 기능 + 4가지 실용성 강화 기능으로 "숫자를 보여주는 대시보드"가 아닌 **"AI가 해석하고 대화하며, 실질적 대응까지 안내하는 민생 위기 서비스"**를 지향한다.

| 기능 | 설명 | 발표 활용 | 구현 시점 |
|------|------|---------|---------|
| AI 브리핑 패널 | Claude가 현재 데이터를 종합해 자연어 브리핑 + 향후 전망 생성 | 발표 오프닝에서 즉시 시선 집중 | 사전 UI + 당일 API |
| AI 대화형 질의 | 사용자가 자연어로 질문하면 맞춤 답변 제공 | 심사위원이 직접 질문하는 라이브 데모 | 사전 UI + 당일 API |
| 위기 연쇄 반응 맵 | 5대 카테고리 간 위기 전파 경로를 시각적으로 표현 | 위기의 구조적 관계를 한눈에 시각화 | 사전 완전 구현 |
| 예측/전망 | AI 브리핑에 1~3개월 후 위기 전망 포함 | "선제 대응" 가치를 구체적으로 제시 | 사전 UI + 당일 API |
| 비교/벤치마킹 | 지역별 현황에서 전국 평균 대비 비교 + 순위 표시 | 지역 맞춤형 서비스 어필 | 사전 완전 구현 |
| 대응 가이드 + 정책 연결 | 위기 신호별 실질적 행동 요령 + 지원 정책 자동 매칭 | "분석에서 대응까지" 완결성 어필 | 사전 Mock + 당일 보완 |
| 리포트 다운로드 | 현재 민생 리스크 분석 리포트를 PDF로 다운로드 | 실무 활용 가능성 시연 | 사전 완전 구현 |

### 1-4. 사전 개발 (80%) vs 당일 (20%) 경계

| 구분 | 사전 개발 | 해커톤 당일 |
|------|----------|-----------|
| Mock JSON | 생성 완료 | 실제 JSON으로 교체 |
| UI 4개 탭 | 완전 구현 | 미세 조정만 |
| AI 브리핑 패널 + 전망 | Mock 텍스트(전망 포함)로 UI 완성 | Claude API 연결만 |
| AI 대화형 질의 | 채팅 UI + Mock 응답 완성 | Claude API 연결만 |
| 위기 연쇄 반응 맵 | **완전 구현 (CSS 애니메이션)** | 변경 없음 |
| 비교/벤치마킹 | **완전 구현 (전국 평균 대비 비교 UI)** | 변경 없음 |
| 대응 가이드 + 정책 연결 | Mock 정책 데이터로 UI 완성 | 실제 정책 데이터 보완 |
| 리포트 다운로드 | **완전 구현 (클라이언트 PDF 생성)** | 변경 없음 |
| API Route | 스캐폴딩 (Mock 반환) | 실제 로직 전환 |
| Claude API | 인터페이스 정의 + Mock 응답 | 실제 API 호출 연결 |
| 데이터 로더 | Mock 경로 | 실제 경로 전환 |

---

## 2. Mock 데이터 설계

### 2-1. 파일 구조

```
data/
└── mock/
    ├── dashboard.json       # 종합 리스크 데이터
    ├── signals.json         # 위기 신호 목록
    ├── news.json            # 뉴스 분석 결과
    ├── policies.json        # 대응 가이드 및 지원 정책 데이터
    ├── regions.json         # 지역별 현황
    ├── briefing.json        # AI 브리핑 Mock 텍스트
    ├── chat-examples.json   # AI 대화 질의 Mock 응답
    └── crisis-chain.json    # 위기 연쇄 반응 관계 데이터
```

### 2-2. dashboard.json 스키마

```json
{
  "lastUpdated": "2026-01-19T14:00:00+09:00",
  "overallScore": 67,
  "categories": {
    "prices": {
      "label": "물가",
      "score": 72,
      "trend": "rising",
      "keyIssues": ["소비자물가 4개월 연속 상승", "식료품 가격 급등"]
    },
    "employment": {
      "label": "고용",
      "score": 58,
      "trend": "stable",
      "keyIssues": ["청년 실업률 보합", "제조업 고용 감소"]
    },
    "selfEmployed": {
      "label": "자영업",
      "score": 81,
      "trend": "rising",
      "keyIssues": ["배달앱 수수료 인상", "소상공인 폐업 증가"]
    },
    "finance": {
      "label": "금융",
      "score": 63,
      "trend": "rising",
      "keyIssues": ["가계부채 증가", "신용카드 연체율 상승"]
    },
    "realEstate": {
      "label": "부동산",
      "score": 55,
      "trend": "falling",
      "keyIssues": ["전세 사기 우려", "월세 전환 가속"]
    }
  },
  "signalStats": {
    "critical": 2,
    "warning": 5,
    "caution": 8,
    "surging": 2
  },
  "recentSignals": [
    {
      "id": "sig-001",
      "title": "배달앱 수수료 인상 관련 소상공인 부담 급증",
      "severity": "critical",
      "category": "selfEmployed",
      "date": "2026-01-19"
    },
    {
      "id": "sig-002",
      "title": "설 명절 농축산물 가격 20% 급등",
      "severity": "critical",
      "category": "prices",
      "date": "2026-01-15"
    },
    {
      "id": "sig-003",
      "title": "신용카드 연체율 상승세 지속",
      "severity": "warning",
      "category": "finance",
      "date": "2026-01-14"
    }
  ]
}
```

### 2-3. briefing.json 스키마

```json
{
  "generatedAt": "2026-01-19T14:00:00+09:00",
  "summary": "현재 자영업 부문의 위험도가 81점으로 5대 카테고리 중 가장 높습니다. 배달앱 수수료 인상과 프랜차이즈 폐업률 상승이 겹치며 소상공인 부담이 급증하고 있습니다. 물가 부문도 설 명절을 앞두고 농축산물 가격이 20% 이상 급등하며 72점으로 주의 단계에 진입했습니다. 금융 부문에서는 신용카드 연체율이 3개월 연속 상승세를 보이고 있어 서민 금융 건전성에 대한 모니터링이 필요합니다.",
  "highlights": [
    {
      "category": "selfEmployed",
      "message": "배달앱 수수료 인상으로 자영업 위험도 최고 수준"
    },
    {
      "category": "prices",
      "message": "설 명절 농축산물 가격 20% 급등, 서민 가계 부담 가중"
    },
    {
      "category": "finance",
      "message": "20~30대 신용카드 연체율 3개월 연속 상승"
    }
  ],
  "recommendation": "자영업 부문과 물가 부문에 대한 선제적 대응이 시급하며, 소상공인 긴급 지원 정책 검토가 필요한 시점입니다.",
  "forecast": {
    "period": "1~3개월",
    "outlook": "현재 추세가 지속될 경우, 자영업 부문 위험도는 1개월 내 85점 이상으로 상승할 가능성이 높습니다. 물가 부문은 설 명절 이후 일시적 안정이 예상되나, 공공요금 인상이 예고되어 있어 2월 말~3월 초 재상승이 우려됩니다. 금융 부문은 연체율 상승 추세가 꺾이지 않고 있어 2개월 내 주의 등급(60점대 후반) 진입 가능성이 있습니다.",
    "scenarios": [
      {
        "type": "current",
        "label": "현재 추세 유지 시",
        "overallScore": 73,
        "description": "종합 리스크 지수가 73점까지 상승하며 주의 등급 상향"
      },
      {
        "type": "withResponse",
        "label": "선제 대응 시",
        "overallScore": 62,
        "description": "소상공인 지원 정책 시행 시 자영업 부문 10점 이상 하락 기대"
      }
    ]
  }
}
```

### 2-4. chat-examples.json 스키마

```json
{
  "examples": [
    {
      "id": "chat-001",
      "question": "서울에서 카페를 운영 중인데, 지금 뭘 조심해야 해?",
      "answer": "서울 지역 자영업 위험도가 78점으로 주의 단계입니다. 현재 주요 위험 요소는 다음과 같습니다:\n\n1. 배달앱 수수료 인상: 주요 플랫폼의 수수료가 평균 2.5%p 인상되었습니다. 직접 배달이나 자체 주문 시스템 도입을 검토해보세요.\n\n2. 원자재 가격 상승: 우유, 원두 등 카페 원자재 가격이 전년 대비 15% 이상 올랐습니다. 메뉴 가격 조정이나 대체 공급처 확보를 고려해보세요.\n\n3. 소상공인 지원 정책: 서울시 소상공인 경영안정자금 신청이 2월까지 가능합니다. 서울신용보증재단(1577-6119)에서 상담받으실 수 있습니다.",
      "relatedSignals": ["sig-001", "sig-006"]
    },
    {
      "id": "chat-002",
      "question": "물가랑 자영업 위험이 동시에 높은 이유가 뭐야?",
      "answer": "물가와 자영업 위험도가 동시에 높은 것은 전형적인 복합 위기 패턴입니다.\n\n원인 구조:\n- 물가 상승(72점)으로 원자재비와 공공요금이 오르면서 자영업자의 운영 비용이 증가합니다.\n- 동시에 소비자의 구매력이 감소하여 매출도 줄어드는 이중고가 발생합니다.\n- 여기에 배달앱 수수료 인상까지 겹치면서 자영업 위험도(81점)가 급등했습니다.\n\n이런 복합 위기는 한 부문의 개선만으로는 해결이 어렵고, 물가 안정과 소상공인 비용 부담 경감이 동시에 이루어져야 합니다.",
      "relatedSignals": ["sig-001", "sig-002", "sig-006"]
    },
    {
      "id": "chat-003",
      "question": "경기도 제조업 상황 좀 요약해줘",
      "answer": "경기도 제조업은 현재 주의가 필요한 상황입니다.\n\n현황:\n- 경기도 고용 위험도 65점 (전국 평균 58점 대비 높음)\n- 주요 산업단지 공실률이 역대 최고치를 기록 중\n- 자동차 부품사 3곳이 희망퇴직을 실시했으며, 고용보험 피보험자 수가 3개월 연속 감소\n\n원인:\n- 내수 부진과 수출 경쟁력 약화가 맞물린 구조적 문제\n- 자동화 전환 가속에 따른 인력 수요 감소\n\n대응:\n- 경기도일자리재단의 직업 전환 훈련 프로그램을 확인해보세요.\n- 고용유지지원금 신청 요건에 해당하는지 확인이 필요합니다.",
      "relatedSignals": ["sig-005"]
    }
  ],
  "suggestedQuestions": [
    "현재 가장 위험한 카테고리는?",
    "우리 지역 민생 상황은 어때?",
    "소상공인이 받을 수 있는 지원 정책은?",
    "다음 달 전망은 어떻게 돼?"
  ]
}
```

### 2-5. policies.json 스키마

```json
[
  {
    "id": "policy-001",
    "title": "소상공인 경영안정자금",
    "description": "경영 어려움을 겪는 소상공인에게 저금리 운영자금을 지원하는 정책",
    "provider": "서울시 / 서울신용보증재단",
    "contact": "1577-6119",
    "url": "https://www.seoulshinbo.co.kr",
    "targetCategories": ["selfEmployed"],
    "targetRegions": ["서울"],
    "relatedSignals": ["sig-001", "sig-007"],
    "eligibility": "매출 감소 또는 경영 악화 소상공인",
    "benefit": "최대 5천만원, 연 2.5% 이하 저금리 대출"
  },
  {
    "id": "policy-002",
    "title": "배달 수수료 지원 사업",
    "description": "배달앱 수수료 부담을 줄이기 위한 정부 보조금 지원",
    "provider": "중소벤처기업부",
    "contact": "1357",
    "url": "https://www.mss.go.kr",
    "targetCategories": ["selfEmployed"],
    "targetRegions": ["전국"],
    "relatedSignals": ["sig-001"],
    "eligibility": "연매출 2억 이하 배달 의존 소상공인",
    "benefit": "월 최대 10만원 수수료 보조"
  },
  {
    "id": "policy-003",
    "title": "서민금융 채무조정 제도",
    "description": "과중 채무로 어려움을 겪는 서민을 위한 채무 조정 및 금융 상담",
    "provider": "서민금융진흥원",
    "contact": "1397",
    "url": "https://www.kinfa.or.kr",
    "targetCategories": ["finance"],
    "targetRegions": ["전국"],
    "relatedSignals": ["sig-003"],
    "eligibility": "연소득 4,500만원 이하 또는 채무 과중자",
    "benefit": "이자율 인하, 상환기간 연장, 원금 감면 등"
  },
  {
    "id": "policy-004",
    "title": "긴급 주거 지원 프로그램",
    "description": "전세보증금 미반환 등 주거 위기 상황에 대한 긴급 지원",
    "provider": "한국토지주택공사(LH)",
    "contact": "1600-1004",
    "url": "https://www.lh.or.kr",
    "targetCategories": ["realEstate"],
    "targetRegions": ["전국"],
    "relatedSignals": ["sig-004"],
    "eligibility": "전세사기 피해자 또는 보증금 미반환 피해자",
    "benefit": "긴급 주거 제공, 보증금 반환 법률 지원"
  },
  {
    "id": "policy-005",
    "title": "취약계층 에너지 바우처",
    "description": "공공요금 인상에 따른 저소득 가구 에너지비 지원",
    "provider": "한국에너지공단",
    "contact": "1600-3190",
    "url": "https://www.energy.or.kr",
    "targetCategories": ["prices"],
    "targetRegions": ["전국"],
    "relatedSignals": ["sig-006"],
    "eligibility": "기초생활수급자, 차상위계층 등 에너지 취약계층",
    "benefit": "가구원 수 기준 연간 최대 22만원 에너지 바우처"
  },
  {
    "id": "policy-006",
    "title": "고용유지지원금",
    "description": "경영 악화로 고용 조정이 불가피한 사업주가 휴업/휴직 실시 시 인건비 지원",
    "provider": "고용노동부",
    "contact": "1350",
    "url": "https://www.moel.go.kr",
    "targetCategories": ["employment"],
    "targetRegions": ["전국"],
    "relatedSignals": ["sig-005"],
    "eligibility": "매출 또는 생산량 15% 이상 감소 사업주",
    "benefit": "휴업수당의 2/3 지원 (1인 1일 최대 66,000원)"
  }
]
```

### 2-6. crisis-chain.json 스키마

```json
{
  "nodes": [
    { "id": "prices", "label": "물가", "score": 72 },
    { "id": "employment", "label": "고용", "score": 58 },
    { "id": "selfEmployed", "label": "자영업", "score": 81 },
    { "id": "finance", "label": "금융", "score": 63 },
    { "id": "realEstate", "label": "부동산", "score": 55 }
  ],
  "edges": [
    {
      "from": "prices",
      "to": "selfEmployed",
      "label": "원자재비 상승",
      "strength": "strong"
    },
    {
      "from": "prices",
      "to": "finance",
      "label": "가계 지출 증가로 대출 의존",
      "strength": "moderate"
    },
    {
      "from": "selfEmployed",
      "to": "employment",
      "label": "폐업 증가로 일자리 감소",
      "strength": "strong"
    },
    {
      "from": "selfEmployed",
      "to": "finance",
      "label": "사업자 대출 부실화",
      "strength": "strong"
    },
    {
      "from": "finance",
      "to": "realEstate",
      "label": "대출 규제로 매수 위축",
      "strength": "moderate"
    },
    {
      "from": "finance",
      "to": "selfEmployed",
      "label": "자금 조달 어려움",
      "strength": "moderate"
    },
    {
      "from": "realEstate",
      "to": "finance",
      "label": "전세보증금 미반환 부실",
      "strength": "moderate"
    },
    {
      "from": "employment",
      "to": "finance",
      "label": "소득 감소로 연체 증가",
      "strength": "strong"
    },
    {
      "from": "employment",
      "to": "prices",
      "label": "소비 위축으로 디플레이션 압력",
      "strength": "weak"
    }
  ],
  "chains": [
    {
      "id": "chain-001",
      "name": "물가-자영업 연쇄",
      "description": "물가 상승이 자영업을 거쳐 고용과 금융까지 파급",
      "path": ["prices", "selfEmployed", "employment", "finance"],
      "currentlyActive": true
    },
    {
      "id": "chain-002",
      "name": "금융-부동산 연쇄",
      "description": "금융 불안이 부동산 시장으로 전이",
      "path": ["finance", "realEstate", "finance"],
      "currentlyActive": false
    },
    {
      "id": "chain-003",
      "name": "자영업-금융 연쇄",
      "description": "자영업 폐업 증가가 금융 부실로 확산",
      "path": ["selfEmployed", "finance", "selfEmployed"],
      "currentlyActive": true
    }
  ]
}
```

### 2-6. signals.json 스키마

```json
[
  {
    "id": "sig-001",
    "title": "배달앱 수수료 인상 관련 소상공인 부담 급증",
    "description": "최근 1주일간 배달앱 수수료 인상 관련 기사가 급증하며, 소상공인들의 경영난 호소 증가",
    "severity": "critical",
    "category": "selfEmployed",
    "categoryLabel": "자영업",
    "region": "전국",
    "relatedArticleCount": 47,
    "detectedAt": "2026-01-19",
    "evidence": [
      "배달의민족, 쿠팡이츠 수수료 평균 2.5%p 인상 발표",
      "소상공인연합회 긴급 성명 발표",
      "폐업 상담 전주 대비 35% 증가"
    ],
    "analysis": {
      "cause": "플랫폼 기업의 수익성 확보 전략과 소상공인 비용 부담 간 충돌",
      "impact": "자영업자 수익성 악화, 배달 음식 가격 인상 가능성, 소비자 부담 전가",
      "actionPoints": [
        "소상공인 수수료 지원 정책 검토",
        "배달 대안 플랫폼 정보 제공",
        "직접 배달 전환 지원 프로그램 안내"
      ]
    }
  },
  {
    "id": "sig-002",
    "title": "설 명절 농축산물 가격 20% 급등",
    "description": "설 명절을 앞두고 농축산물 주요 품목의 대형마트 대비 20% 이상 상승하며 가계 부담 증가",
    "severity": "critical",
    "category": "prices",
    "categoryLabel": "물가",
    "region": "경기",
    "relatedArticleCount": 63,
    "detectedAt": "2026-01-15",
    "evidence": [
      "한우 1등급 100g 기준 전년 동기 대비 22% 상승",
      "배추/무 등 김장 채소류 30% 이상 급등",
      "대형마트 3사 할인 행사 확대에도 체감 물가 상승"
    ],
    "analysis": {
      "cause": "기후 이상에 따른 작황 부진, 사료비 상승, 명절 수요 집중",
      "impact": "서민 가계 식비 부담 증가, 외식업 원가 상승 압박",
      "actionPoints": [
        "농산물 직거래 장터 확대 운영",
        "취약계층 명절 물가 지원금 검토",
        "비축 물량 방출 시점 조율"
      ]
    }
  },
  {
    "id": "sig-003",
    "title": "신용카드 연체율 상승세 지속",
    "description": "20~30대 신용카드 연체율이 3개월 연속 상승하며 금융 건전성 우려 확대",
    "severity": "warning",
    "category": "finance",
    "categoryLabel": "금융",
    "region": "수도권",
    "relatedArticleCount": 28,
    "detectedAt": "2026-01-14",
    "evidence": [
      "20대 카드 연체율 전분기 대비 0.3%p 상승",
      "소액 다중채무자 비율 역대 최고",
      "금융당국 소비자 경보 발령 검토 중"
    ],
    "analysis": {
      "cause": "고금리 장기화에 따른 이자 부담 증가, 청년층 소비 패턴 변화",
      "impact": "개인 신용등급 하락, 추가 대출 제한, 소비 위축 가능성",
      "actionPoints": [
        "청년 금융교육 프로그램 강화",
        "서민금융 상담 창구 확대 운영",
        "채무 조정 제도 홍보 강화"
      ]
    }
  },
  {
    "id": "sig-004",
    "title": "수도권 전세 사기 피해 상담 급증",
    "description": "전세보증보험 미가입 물건 관련 피해 상담이 전월 대비 45% 증가",
    "severity": "warning",
    "category": "realEstate",
    "categoryLabel": "부동산",
    "region": "서울",
    "relatedArticleCount": 35,
    "detectedAt": "2026-01-12",
    "evidence": [
      "서울시 전세피해지원센터 상담 건수 전월 대비 45% 증가",
      "빌라 밀집 지역 중심 깡통전세 우려 확산",
      "전세보증보험 가입 거부 사례 다수 보도"
    ],
    "analysis": {
      "cause": "역전세난 장기화, 임대인 자금 경색, 보증보험 심사 강화",
      "impact": "세입자 보증금 미반환 위험, 주거 불안정 확대",
      "actionPoints": [
        "전세피해 예방 가이드 배포",
        "긴급 주거 지원 프로그램 안내",
        "전세보증보험 가입 지원 확대"
      ]
    }
  },
  {
    "id": "sig-005",
    "title": "제조업 구조조정 신호 감지",
    "description": "주요 제조업체 희망퇴직 공고가 전년 동기 대비 2배 증가하며 고용 불안 확대",
    "severity": "warning",
    "category": "employment",
    "categoryLabel": "고용",
    "region": "경기",
    "relatedArticleCount": 22,
    "detectedAt": "2026-01-10",
    "evidence": [
      "자동차 부품사 3곳 희망퇴직 실시",
      "경기도 제조업 고용보험 피보험자 수 3개월 연속 감소",
      "산업단지 공실률 상승 추세"
    ],
    "analysis": {
      "cause": "내수 부진, 수출 경쟁력 약화, 자동화 전환 가속",
      "impact": "지역 경제 위축, 협력업체 연쇄 도산 위험, 실업급여 수급 증가",
      "actionPoints": [
        "직업 전환 훈련 프로그램 확대",
        "고용유지지원금 신청 안내",
        "지역 일자리 매칭 서비스 강화"
      ]
    }
  },
  {
    "id": "sig-006",
    "title": "공공요금 인상 릴레이 예고",
    "description": "전기, 가스, 수도 요금 동시 인상 논의가 진행 중이며 가계 고정비 부담 확대 우려",
    "severity": "warning",
    "category": "prices",
    "categoryLabel": "물가",
    "region": "전국",
    "relatedArticleCount": 41,
    "detectedAt": "2026-01-08",
    "evidence": [
      "한국전력 적자 해소 위해 전기요금 추가 인상 검토",
      "도시가스 요금 4월 인상 확정",
      "지자체별 수도요금 인상안 속속 발표"
    ],
    "analysis": {
      "cause": "에너지 원가 상승, 공기업 재무건전성 악화, 물가 연동 구조",
      "impact": "가계 고정비 증가, 자영업자 운영비 상승, 복합 물가 압력",
      "actionPoints": [
        "에너지 바우처 지원 대상 확대 검토",
        "취약계층 요금 감면 제도 홍보",
        "에너지 절약 캠페인 강화"
      ]
    }
  },
  {
    "id": "sig-007",
    "title": "프랜차이즈 가맹점 폐업률 상승",
    "description": "주요 프랜차이즈 가맹점의 개점 대비 폐업 비율이 전년 대비 15%p 상승",
    "severity": "caution",
    "category": "selfEmployed",
    "categoryLabel": "자영업",
    "region": "전국",
    "relatedArticleCount": 18,
    "detectedAt": "2026-01-06",
    "evidence": [
      "공정위 정보공개서 기준 주요 10개 브랜드 폐업률 평균 12.3%",
      "가맹본부-가맹점 간 분쟁 조정 신청 증가",
      "창업비용 대비 수익성 악화 호소 증가"
    ],
    "analysis": {
      "cause": "과밀 출점, 본부 정책 변경, 인건비/원자재비 동반 상승",
      "impact": "예비 창업자 투자 손실, 가맹 생태계 신뢰 하락",
      "actionPoints": [
        "가맹 사업 정보공개서 열람 안내",
        "창업 전 수익성 분석 상담 지원",
        "폐업 지원 프로그램 연결"
      ]
    }
  }
]
```

### 2-4. news.json 스키마

```json
[
  {
    "id": "news-001",
    "title": "치킨집 폐업률 역대 최고...플랫폼 수수료에 재료비까지",
    "summary": "프랜차이즈 치킨 가맹점의 올해 폐업률이 역대 최고치를 기록했다. 배달 플랫폼 수수료 인상과 원자재 가격 상승이 이중고로 작용하고 있다.",
    "category": "selfEmployed",
    "categoryLabel": "자영업",
    "keywords": ["폐업", "수수료", "경영난", "소상공인"],
    "publishedAt": "2026-01-19",
    "section": "경제"
  },
  {
    "id": "news-002",
    "title": "마트 장보기 비용 20만원 시대...서민 체감물가 역대급",
    "summary": "4인 가족 기준 주간 장보기 비용이 평균 20만원을 넘어섰다. 축산물과 과일류가 상승을 주도하고 있으며, 서민 가계의 식비 부담이 가중되고 있다.",
    "category": "prices",
    "categoryLabel": "물가",
    "keywords": ["물가", "식료품값", "장보기", "가계부담"],
    "publishedAt": "2026-01-18",
    "section": "경제"
  },
  {
    "id": "news-003",
    "title": "2금융권 대출 연체율 5년래 최고치 경신",
    "summary": "저축은행과 카드사의 대출 연체율이 5년래 최고치를 기록했다. 고금리 장기화로 서민층의 이자 부담이 한계에 도달하고 있다는 분석이다.",
    "category": "finance",
    "categoryLabel": "금융",
    "keywords": ["연체", "대출", "금융불안", "고금리"],
    "publishedAt": "2026-01-17",
    "section": "금융"
  },
  {
    "id": "news-004",
    "title": "청년 실업률 3개월 연속 상승...구직 포기자도 늘어",
    "summary": "15~29세 청년 실업률이 3개월 연속 상승세를 기록했다. 특히 구직을 아예 포기한 비경활 인구도 함께 증가하고 있어 고용 시장의 구조적 문제가 지적된다.",
    "category": "employment",
    "categoryLabel": "고용",
    "keywords": ["청년실업", "고용", "구직포기", "노동시장"],
    "publishedAt": "2026-01-16",
    "section": "경제"
  },
  {
    "id": "news-005",
    "title": "수도권 전세 시장 불안 지속...보증보험 가입 거부 속출",
    "summary": "수도권 빌라 밀집 지역을 중심으로 전세보증보험 가입이 거부되는 사례가 잇따르고 있다. 역전세난이 장기화되며 세입자 보증금 반환 불안이 커지고 있다.",
    "category": "realEstate",
    "categoryLabel": "부동산",
    "keywords": ["전세사기", "보증보험", "역전세", "주거불안"],
    "publishedAt": "2026-01-15",
    "section": "부동산"
  },
  {
    "id": "news-006",
    "title": "배달앱 수수료 또 오른다...자영업자 '한숨'",
    "summary": "주요 배달 플랫폼이 수수료 인상을 잇따라 발표하면서 자영업자들의 반발이 거세지고 있다. 소상공인연합회는 정부 차원의 수수료 상한제 도입을 촉구했다.",
    "category": "selfEmployed",
    "categoryLabel": "자영업",
    "keywords": ["배달앱", "수수료", "소상공인", "플랫폼"],
    "publishedAt": "2026-01-14",
    "section": "경제"
  },
  {
    "id": "news-007",
    "title": "전기요금 추가 인상 검토...가계 고정비 부담 가중",
    "summary": "한국전력이 누적 적자 해소를 위해 전기요금 추가 인상을 검토 중이다. 가스, 수도 요금 인상과 맞물려 가계 고정비 부담이 한층 가중될 전망이다.",
    "category": "prices",
    "categoryLabel": "물가",
    "keywords": ["전기요금", "공공요금", "고정비", "가계부담"],
    "publishedAt": "2026-01-13",
    "section": "경제"
  },
  {
    "id": "news-008",
    "title": "경기도 산업단지 공실률 역대 최고...제조업 위기 신호",
    "summary": "경기도 주요 산업단지의 공실률이 역대 최고치를 기록했다. 제조업 경기 둔화와 기업 구조조정이 맞물리며 지역 경제에 경고등이 켜졌다.",
    "category": "employment",
    "categoryLabel": "고용",
    "keywords": ["산업단지", "공실률", "제조업", "구조조정"],
    "publishedAt": "2026-01-12",
    "section": "산업"
  },
  {
    "id": "news-009",
    "title": "서울 월세 비중 역대 최고...전세의 월세 전환 가속",
    "summary": "서울 아파트 임대차 시장에서 월세 비중이 역대 최고치를 기록했다. 고금리 기조에 따라 전세에서 월세로의 전환이 빠르게 진행되고 있다.",
    "category": "realEstate",
    "categoryLabel": "부동산",
    "keywords": ["월세", "전세", "임대차", "주거비"],
    "publishedAt": "2026-01-11",
    "section": "부동산"
  },
  {
    "id": "news-010",
    "title": "소상공인 대출 부실 우려 확대...금융권 관리 강화",
    "summary": "소상공인 대출의 부실 위험이 확대되면서 금융권이 관리를 강화하고 있다. 코로나 시기 지원받은 대출의 상환 시기가 도래하며 연쇄 부실 우려가 커지고 있다.",
    "category": "finance",
    "categoryLabel": "금융",
    "keywords": ["소상공인", "대출부실", "금융관리", "연체"],
    "publishedAt": "2026-01-10",
    "section": "금융"
  }
]
```

### 2-5. regions.json 스키마

```json
{
  "lastUpdated": "2026-01-19T14:00:00+09:00",
  "regions": [
    {
      "id": "nationwide",
      "name": "전국",
      "score": 67,
      "trend": "rising",
      "categories": {
        "prices": 72,
        "employment": 58,
        "selfEmployed": 81,
        "finance": 63,
        "realEstate": 55
      },
      "topIssue": "자영업 부문 위험도 상승"
    },
    {
      "id": "seoul",
      "name": "서울",
      "score": 64,
      "trend": "stable",
      "categories": {
        "prices": 68,
        "employment": 55,
        "selfEmployed": 78,
        "finance": 65,
        "realEstate": 62
      },
      "topIssue": "전세 시장 불안 지속"
    },
    {
      "id": "gyeonggi",
      "name": "경기",
      "score": 71,
      "trend": "rising",
      "categories": {
        "prices": 74,
        "employment": 65,
        "selfEmployed": 83,
        "finance": 62,
        "realEstate": 58
      },
      "topIssue": "제조업 구조조정 및 자영업 폐업 증가"
    },
    {
      "id": "incheon",
      "name": "인천",
      "score": 62,
      "trend": "stable",
      "categories": {
        "prices": 70,
        "employment": 57,
        "selfEmployed": 75,
        "finance": 58,
        "realEstate": 52
      },
      "topIssue": "물가 상승 체감도 증가"
    },
    {
      "id": "busan",
      "name": "부산",
      "score": 69,
      "trend": "rising",
      "categories": {
        "prices": 71,
        "employment": 63,
        "selfEmployed": 80,
        "finance": 66,
        "realEstate": 54
      },
      "topIssue": "자영업 폐업률 전국 최고 수준"
    },
    {
      "id": "daegu",
      "name": "대구",
      "score": 59,
      "trend": "stable",
      "categories": {
        "prices": 65,
        "employment": 56,
        "selfEmployed": 72,
        "finance": 55,
        "realEstate": 48
      },
      "topIssue": "섬유 산업 경기 둔화"
    },
    {
      "id": "gwangju",
      "name": "광주",
      "score": 56,
      "trend": "falling",
      "categories": {
        "prices": 63,
        "employment": 52,
        "selfEmployed": 68,
        "finance": 53,
        "realEstate": 45
      },
      "topIssue": "지역 소비 경기 회복 조짐"
    },
    {
      "id": "daejeon",
      "name": "대전",
      "score": 58,
      "trend": "stable",
      "categories": {
        "prices": 64,
        "employment": 54,
        "selfEmployed": 70,
        "finance": 56,
        "realEstate": 50
      },
      "topIssue": "공공기관 이전 효과 둔화"
    }
  ]
}
```

---

## 3. TypeScript 타입 정의

### 3-1. 파일: `lib/types.ts`

```
-- 카테고리 키 --
CategoryKey = "prices" | "employment" | "selfEmployed" | "finance" | "realEstate"

-- 위기 등급 --
Severity = "critical" | "warning" | "caution" | "safe"

-- 추세 --
Trend = "rising" | "stable" | "falling"

-- 카테고리별 리스크 --
CategoryRisk {
  label: string
  score: number
  trend: Trend
  keyIssues: string[]
}

-- 신호 통계 --
SignalStats {
  critical: number
  warning: number
  caution: number
  surging: number
}

-- 최근 신호 미리보기 --
SignalPreview {
  id: string
  title: string
  severity: Severity
  category: CategoryKey
  date: string
}

-- 대시보드 데이터 --
DashboardData {
  lastUpdated: string
  overallScore: number
  categories: Record<CategoryKey, CategoryRisk>
  signalStats: SignalStats
  recentSignals: SignalPreview[]
}

-- 신호 상세 분석 --
SignalAnalysis {
  cause: string
  impact: string
  actionPoints: string[]
}

-- 위기 신호 --
Signal {
  id: string
  title: string
  description: string
  severity: Severity
  category: CategoryKey
  categoryLabel: string
  region: string
  relatedArticleCount: number
  detectedAt: string
  evidence: string[]
  analysis: SignalAnalysis
}

-- 뉴스 기사 --
NewsArticle {
  id: string
  title: string
  summary: string
  category: CategoryKey
  categoryLabel: string
  keywords: string[]
  publishedAt: string
  section: string
}

-- 지역 리스크 --
RegionRisk {
  id: string
  name: string
  score: number
  trend: Trend
  categories: Record<CategoryKey, number>
  topIssue: string
}

-- 지역별 현황 데이터 --
RegionsData {
  lastUpdated: string
  regions: RegionRisk[]
}
```

### 3-2. 차별화 기능 타입 (lib/types.ts 추가분)

```
-- AI 브리핑 하이라이트 --
BriefingHighlight {
  category: CategoryKey
  message: string
}

-- 전망 시나리오 --
ForecastScenario {
  type: "current" | "withResponse"
  label: string
  overallScore: number
  description: string
}

-- 전망 데이터 --
ForecastData {
  period: string
  outlook: string
  scenarios: ForecastScenario[]
}

-- AI 브리핑 데이터 --
BriefingData {
  generatedAt: string
  summary: string
  highlights: BriefingHighlight[]
  recommendation: string
  forecast: ForecastData
}

-- 채팅 메시지 --
ChatMessage {
  id: string
  role: "user" | "assistant"
  content: string
  timestamp: string
  relatedSignals?: string[]
}

-- 채팅 예시 --
ChatExample {
  id: string
  question: string
  answer: string
  relatedSignals: string[]
}

-- 채팅 데이터 --
ChatData {
  examples: ChatExample[]
  suggestedQuestions: string[]
}

-- 연쇄 반응 노드 --
CrisisNode {
  id: CategoryKey
  label: string
  score: number
}

-- 연쇄 반응 엣지 --
CrisisEdge {
  from: CategoryKey
  to: CategoryKey
  label: string
  strength: "strong" | "moderate" | "weak"
}

-- 연쇄 반응 체인 --
CrisisChain {
  id: string
  name: string
  description: string
  path: CategoryKey[]
  currentlyActive: boolean
}

-- 연쇄 반응 맵 데이터 --
CrisisChainData {
  nodes: CrisisNode[]
  edges: CrisisEdge[]
  chains: CrisisChain[]
}
```

### 3-3. 실용성 강화 기능 타입 (lib/types.ts 추가분)

```
-- 지원 정책 --
Policy {
  id: string
  title: string
  description: string
  provider: string
  contact: string
  url: string
  targetCategories: CategoryKey[]
  targetRegions: string[]
  relatedSignals: string[]
  eligibility: string
  benefit: string
}

-- 대응 가이드 (신호별 행동 요령 + 매칭된 정책) --
ActionGuide {
  signalId: string
  actionSteps: string[]
  matchedPolicies: Policy[]
  pastCases?: string[]
}

-- 지역 비교 데이터 --
RegionComparison {
  regionId: string
  regionName: string
  score: number
  nationalAverage: number
  difference: number
  rank: number
  totalRegions: number
  categoryComparisons: {
    category: CategoryKey
    regionScore: number
    nationalAverage: number
    difference: number
  }[]
}

-- 리포트 메타 --
ReportMeta {
  generatedAt: string
  period: string
  overallScore: number
  categories: Record<CategoryKey, number>
  topSignals: SignalPreview[]
  briefingSummary: string
  forecast: ForecastData
}
```

### 3-4. 파일: `lib/constants.ts`

```
-- 카테고리 정의 --
CATEGORIES: { key, label, description }[]
  prices      / 물가    / 소비자물가, 식료품, 공공요금, 생활비
  employment  / 고용    / 실업률, 구조조정, 채용동향, 청년고용
  selfEmployed/ 자영업  / 폐업률, 소상공인, 배달앱, 임대료
  finance     / 금융    / 금리, 가계부채, 연체율, 서민금융
  realEstate  / 부동산  / 집값, 전세, 월세, 주거비

-- 등급 정의 --
SEVERITY_CONFIG: { key, label, scoreRange, description }
  critical / 긴급 / 80~100 / 즉각 대응 필요
  warning  / 주의 / 60~79  / 주의 깊은 모니터링 필요
  caution  / 관찰 / 40~59  / 추이 관찰 필요
  safe     / 안전 / 0~39   / 정상 범위

-- 지역 정의 --
REGIONS: { id, name }[]
  전국, 서울, 경기, 인천, 부산, 대구, 광주, 대전

-- 기간 필터 --
PERIOD_OPTIONS: { value, label }[]
  1w  / 최근 1주
  1m  / 최근 1개월
  3m  / 최근 3개월
```

---

## 4. globals.css 디자인 토큰 확장

기존 토큰에 추가할 위기 등급 색상 변수:

```
:root 추가분:
  --danger:           긴급 등급 빨강 (OKLCH)
  --danger-foreground: 긴급 등급 텍스트
  --warning:          주의 등급 주황 (OKLCH)
  --warning-foreground: 주의 등급 텍스트
  --caution:          관찰 등급 노랑 (OKLCH)
  --caution-foreground: 관찰 등급 텍스트
  --safe:             안전 등급 초록 (OKLCH)
  --safe-foreground:  안전 등급 텍스트

.dark 추가분:
  동일 변수를 다크모드에 맞게 조정

@theme inline 추가분:
  --color-danger, --color-danger-foreground
  --color-warning, --color-warning-foreground
  --color-caution, --color-caution-foreground
  --color-safe, --color-safe-foreground
```

---

## 5. Phase별 상세 구현 계획

---

### Phase 1: 기반 구축

**목표**: 프로젝트 전체에서 공유하는 타입, 상수, 디자인 토큰, Mock 데이터 생성

**산출물**:

| 파일 | 설명 |
|------|------|
| `lib/types.ts` | 섹션 3의 모든 타입/인터페이스 정의 |
| `lib/constants.ts` | 카테고리, 등급, 지역, 기간 필터 상수 |
| `app/globals.css` | 위기 등급 색상 토큰 추가 (기존 유지) |
| `data/mock/dashboard.json` | 대시보드 Mock 데이터 |
| `data/mock/signals.json` | 위기 신호 Mock 데이터 |
| `data/mock/news.json` | 뉴스 분석 Mock 데이터 |
| `data/mock/regions.json` | 지역별 현황 Mock 데이터 |
| `data/mock/briefing.json` | AI 브리핑 Mock 텍스트 |
| `data/mock/chat-examples.json` | AI 대화 질의 Mock 응답 |
| `data/mock/crisis-chain.json` | 위기 연쇄 반응 관계 데이터 |
| `data/mock/policies.json` | 대응 가이드 및 지원 정책 Mock 데이터 |
| `.env.example` | 환경변수 템플릿 |

**데이터 로딩 방식 (UI 단계)**:
- Server Component에서 JSON 파일을 직접 import하여 props로 전달
- 별도 fetch 없이 `import dashboardData from "@/data/mock/dashboard.json"` 방식 사용
- 이후 API Route로 전환 시 import를 fetch 호출로 교체

---

### Phase 2: 공통 레이아웃

**목표**: 모든 탭에서 공유하는 헤더, 탭 네비게이션 구현

**컴포넌트 구조**:

```
app/layout.tsx (루트 레이아웃)
  └── components/layout/app-header.tsx
        ├── 서비스 로고/이름 (HugeIcon + 텍스트)
        ├── 서비스 설명 (부제)
        ├── 기간 필터 (Select 컴포넌트)
        └── 알림 설정 버튼

app/page.tsx -> app/(tabs)/layout.tsx (탭 레이아웃)
  └── components/layout/tab-navigation.tsx
        ├── 대시보드 탭
        ├── 위기 신호 탭
        ├── 뉴스 분석 탭
        └── 지역별 현황 탭
```

**라우트 구조**:

```
app/
├── layout.tsx                    # 루트 (헤더)
├── (tabs)/
│   ├── layout.tsx                # 탭 네비게이션 포함
│   ├── page.tsx                  # 대시보드 (기본)
│   ├── signals/
│   │   └── page.tsx              # 위기 신호
│   ├── news/
│   │   └── page.tsx              # 뉴스 분석
│   └── regions/
│       └── page.tsx              # 지역별 현황
├── api/                          # API Routes (Phase 7)
```

**필요 shadcn 컴포넌트**: 기존 설치된 것 확인 후 추가 필요 시 MCP로 설치

**산출물**:

| 파일 | 설명 |
|------|------|
| `components/layout/app-header.tsx` | 서비스 헤더 |
| `components/layout/tab-navigation.tsx` | 탭 네비게이션 |
| `app/layout.tsx` | 루트 레이아웃 수정 |
| `app/(tabs)/layout.tsx` | 탭 영역 레이아웃 |

---

### Phase 3: 대시보드 탭 UI + AI 브리핑 패널

**목표**: PDF 구현 예시의 "메인 탭(종합 민생 리스크 지수)" 화면 구현 + AI 브리핑 패널 (차별화 기능 #1) + 전망 패널 + 리포트 다운로드

**컴포넌트 트리**:

```
app/(tabs)/page.tsx
  └── components/dashboard/dashboard-page.tsx
        ├── ai-briefing-panel.tsx [차별화 #1]
        │     ├── 패널 헤더: "오늘의 민생 브리핑" + AI 아이콘 + 생성 시각
        │     ├── 브리핑 본문 (summary)
        │     │     타이핑 애니메이션으로 텍스트가 한 글자씩 나타나는 효과
        │     │     AI가 실시간 분석하는 느낌을 연출
        │     ├── 핵심 하이라이트 (highlights)
        │     │     카테고리 아이콘 + 한 줄 메시지 (x3)
        │     ├── 종합 권고 (recommendation)
        │     │     구분선 + 권고 텍스트
        │     │
        │     └── forecast-panel.tsx [전망 기능]
        │           ├── "향후 전망" 소제목 + 기간 표시 (1~3개월)
        │           ├── 전망 텍스트 (outlook) - 타이핑 효과 적용
        │           └── 시나리오 비교 카드 (scenarios)
        │                 ├── "현재 추세 유지 시" 카드: 점수 + 설명 (danger/warning 색상)
        │                 └── "선제 대응 시" 카드: 점수 + 설명 (safe 색상)
        │
        ├── dashboard-header.tsx
        │     ├── "종합 민생 리스크 지수" 제목
        │     ├── 기준일시 표시 (lastUpdated)
        │     └── report-download-button.tsx [리포트 다운로드]
        │           └── "리포트 다운로드" 버튼 (HugeIcon + 텍스트)
        │               클릭 시 현재 대시보드 데이터를 PDF로 생성/다운로드
        │
        ├── dashboard-summary.tsx (상단 영역)
        │     ├── risk-gauge.tsx
        │     │     └── 원형 게이지 (overallScore / 100)
        │     │         점수 숫자 크게 표시
        │     │         등급에 따라 색상 변경 (danger/warning/caution/safe)
        │     │
        │     └── signal-stats.tsx
        │           ├── 긴급 신호 N건 (danger 색상)
        │           ├── 주의 신호 N건 (warning 색상)
        │           └── 급상승 이슈 N건
        │
        ├── category-risk-list.tsx (중단 영역)
        │     └── category-risk-bar.tsx (x5)
        │           ├── 카테고리 아이콘 (HugeIcon)
        │           ├── 카테고리명
        │           ├── 점수 바 (프로그레스 바, 등급 색상)
        │           ├── 점수 숫자
        │           └── 추세 아이콘 (상승/보합/하락)
        │
        └── recent-signals.tsx (하단 영역)
              └── signal-preview-card.tsx (x3)
                    ├── 등급 배지 (Badge 컴포넌트)
                    ├── 카테고리 라벨
                    ├── 신호 제목
                    └── 감지 날짜
```

**AI 브리핑 패널 상세 설계**:

- 위치: 대시보드 최상단 (가장 먼저 눈에 띄는 위치)
- 디자인: Card 컴포넌트 기반, accent 배경색으로 강조
- 타이핑 효과: CSS `@keyframes` + `steps()` 또는 `setInterval` 기반 한 글자씩 출력
  - 사전 개발: Mock 텍스트를 타이핑 효과로 표시
  - 당일: Claude API 스트리밍 응답을 실시간 렌더링
- `"use client"` 컴포넌트 (타이핑 애니메이션 상태 관리)

**전망 패널 (forecast-panel) 상세 설계**:

- 위치: AI 브리핑 패널 내 하단 (권고사항 아래)
- 디자인: 브리핑 패널 내부에 구분선으로 분리된 섹션
- 시나리오 비교: 2개의 카드를 나란히 배치 ("현재 추세 유지" vs "선제 대응 시")
  - 각 카드에 예상 점수를 원형 미니 게이지로 표시
  - 점수 차이를 시각적으로 강조하여 "선제 대응의 가치"를 직관적으로 전달
- 사전 개발: Mock 텍스트로 전망 내용 표시
- 당일: Claude API가 현재 데이터 추세를 분석하여 전망 텍스트 + 시나리오 점수 생성

**리포트 다운로드 (report-download-button) 상세 설계**:

- 위치: dashboard-header 우측 (기준일시 옆)
- 구현: 클라이언트 사이드 PDF 생성 (외부 라이브러리 없이 `window.print()` + CSS `@media print` 활용)
  - 대안: 브라우저 내장 인쇄 기능을 활용한 PDF 저장 유도
  - 인쇄 시 대시보드의 주요 데이터(종합 점수, 카테고리별 점수, 최근 신호, 브리핑 요약, 전망)를 정리된 레이아웃으로 출력
- `@media print` CSS로 인쇄 전용 스타일 정의 (헤더/탭 숨기기, 데이터 영역만 표시)
- `"use client"` 컴포넌트 (window.print() 호출)

**데이터 흐름**:
1. `app/(tabs)/page.tsx` (Server Component)에서 `dashboard.json` + `briefing.json` import
2. `DashboardPage`에 전체 데이터를 props로 전달
3. 각 하위 컴포넌트는 필요한 부분만 props로 수신
4. forecast 데이터는 `briefing.json`의 `forecast` 필드에서 추출하여 `forecast-panel`에 전달

**산출물**:

| 파일 | 설명 |
|------|------|
| `app/(tabs)/page.tsx` | 대시보드 페이지 (데이터 로딩) |
| `components/dashboard/dashboard-page.tsx` | 대시보드 메인 레이아웃 |
| `components/dashboard/ai-briefing-panel.tsx` | **AI 브리핑 패널 (차별화 #1)** |
| `components/dashboard/forecast-panel.tsx` | **전망 패널 (브리핑 내 하위 컴포넌트)** |
| `components/dashboard/dashboard-header.tsx` | 제목 + 기준일시 |
| `components/dashboard/report-download-button.tsx` | **리포트 다운로드 버튼** |
| `components/dashboard/dashboard-summary.tsx` | 게이지 + 통계 영역 |
| `components/dashboard/risk-gauge.tsx` | 원형 리스크 게이지 |
| `components/dashboard/signal-stats.tsx` | 긴급/주의/급상승 통계 |
| `components/dashboard/category-risk-list.tsx` | 카테고리 목록 래퍼 |
| `components/dashboard/category-risk-bar.tsx` | 개별 카테고리 위험도 바 |
| `components/dashboard/recent-signals.tsx` | 최근 신호 목록 래퍼 |
| `components/dashboard/signal-preview-card.tsx` | 신호 미리보기 카드 |

---

### Phase 4: 위기 신호 탭 UI

**목표**: PDF 구현 예시의 "위기 신호 탭" 화면 구현 + 대응 가이드 및 정책 연결

**컴포넌트 트리**:

```
app/(tabs)/signals/page.tsx
  └── components/signals/signals-page.tsx ("use client")
        ├── signals-filter-bar.tsx
        │     ├── 카테고리 필터 (Select: 전체/물가/고용/자영업/금융/부동산)
        │     └── 지역 필터 (Select: 전체/서울/경기/인천/...)
        │
        └── signal-list.tsx
              └── signal-card.tsx (xN, 필터링된 결과)
                    ├── 상단: 등급 배지 + 카테고리 라벨 + 지역
                    ├── 중단: 신호 제목 (볼드) + 설명 텍스트
                    ├── 하단: 관련 기사 N건 + 감지 날짜
                    └── "상세 분석 보기" 버튼
                          └── signal-detail-dialog.tsx (AlertDialog)
                                ├── 신호 제목
                                ├── 근거 목록 (evidence)
                                ├── 원인 분석 (cause)
                                ├── 영향 범위 (impact)
                                ├── 대응 포인트 (actionPoints)
                                │
                                └── action-guide-section.tsx [대응 가이드 + 정책 연결]
                                      ├── "대응 가이드" 소제목
                                      ├── 실질적 행동 요령 목록 (단계별 안내)
                                      ├── "관련 지원 정책" 소제목
                                      └── policy-card.tsx (xN, 매칭된 정책)
                                            ├── 정책명 (title)
                                            ├── 지원 기관 (provider)
                                            ├── 지원 내용 요약 (benefit)
                                            ├── 대상 조건 (eligibility)
                                            ├── 연락처 (contact) - 전화 링크
                                            └── "자세히 보기" 버튼 (url 외부 링크)
```

**대응 가이드 + 정책 연결 상세 설계**:

- 위치: signal-detail-dialog 내 하단 (기존 분석 정보 아래)
- 정책 매칭 로직: `policies.json`에서 `targetCategories`와 `relatedSignals`를 기준으로 필터링
  - 1순위: `relatedSignals`에 해당 신호 ID가 포함된 정책
  - 2순위: `targetCategories`에 해당 카테고리가 포함된 정책
  - 지역 필터: `targetRegions`에 "전국" 또는 해당 신호의 region이 포함된 정책
- policy-card 디자인: Card 컴포넌트 기반, 좌측에 기관 아이콘, 우측에 연락처/링크 버튼
- `"use client"` 컴포넌트 (정책 매칭은 클라이언트에서 수행)

**클라이언트 상태 (signals-page.tsx)**:
- `selectedCategory`: 카테고리 필터 상태
- `selectedRegion`: 지역 필터 상태
- 필터 변경 시 signals 배열을 클라이언트에서 filter

**데이터 흐름**:
1. `app/(tabs)/signals/page.tsx`에서 `signals.json` + `policies.json` import
2. signals-page에 양쪽 데이터 모두 props 전달
3. signal-detail-dialog 열릴 때 해당 신호에 매칭되는 정책을 필터링하여 action-guide-section에 전달

**산출물**:

| 파일 | 설명 |
|------|------|
| `app/(tabs)/signals/page.tsx` | 위기 신호 페이지 (데이터 로딩) |
| `components/signals/signals-page.tsx` | 클라이언트 컴포넌트 (필터 상태) |
| `components/signals/signals-filter-bar.tsx` | 카테고리 + 지역 필터 |
| `components/signals/signal-list.tsx` | 신호 목록 래퍼 |
| `components/signals/signal-card.tsx` | 개별 신호 카드 |
| `components/signals/signal-detail-dialog.tsx` | 상세 분석 다이얼로그 |
| `components/signals/action-guide-section.tsx` | **대응 가이드 + 정책 매칭 섹션** |
| `components/signals/policy-card.tsx` | **개별 지원 정책 카드** |

---

### Phase 5: 뉴스 분석 탭 UI

**목표**: PDF 구현 예시의 "뉴스 분석 탭" 화면 구현

**컴포넌트 트리**:

```
app/(tabs)/news/page.tsx
  └── components/news/news-page.tsx ("use client")
        ├── news-search-bar.tsx
        │     └── 키워드 검색 (Input + 검색 아이콘)
        │
        ├── news-category-filter.tsx
        │     └── 카테고리 필터 (Select: 전체 카테고리)
        │
        └── news-list.tsx
              └── news-card.tsx (xN, 검색/필터 결과)
                    ├── 좌측: 카테고리 배지 (색상 구분)
                    ├── 중앙:
                    │     ├── 기사 제목
                    │     ├── 요약 텍스트 (2줄 제한)
                    │     └── 키워드 태그 목록 (Badge)
                    └── 우측: 발행일
```

**클라이언트 상태 (news-page.tsx)**:
- `searchKeyword`: 검색어
- `selectedCategory`: 카테고리 필터
- 키워드 검색: 제목 + 키워드 배열에서 부분 일치 필터
- 카테고리 필터: category 필드 일치 필터

**산출물**:

| 파일 | 설명 |
|------|------|
| `app/(tabs)/news/page.tsx` | 뉴스 분석 페이지 (데이터 로딩) |
| `components/news/news-page.tsx` | 클라이언트 컴포넌트 (검색/필터 상태) |
| `components/news/news-search-bar.tsx` | 키워드 검색 바 |
| `components/news/news-category-filter.tsx` | 카테고리 필터 |
| `components/news/news-list.tsx` | 뉴스 목록 래퍼 |
| `components/news/news-card.tsx` | 개별 뉴스 카드 |

---

### Phase 6: 지역별 현황 탭 UI

**목표**: PDF 구현 예시의 "지역별 현황 탭" 화면 구현 + 전국 평균 대비 비교/벤치마킹

**컴포넌트 트리**:

```
app/(tabs)/regions/page.tsx
  └── components/regions/regions-page.tsx ("use client")
        ├── region-risk-list.tsx
        │     └── region-risk-row.tsx (xN)
        │           ├── 순위 번호 표시 (점수 기준 내림차순)
        │           ├── 위험도 아이콘 (등급별 색상 원형)
        │           ├── 지역명
        │           ├── 리스크 점수 바 (등급 색상)
        │           ├── 점수 숫자 (볼드)
        │           ├── 전국 평균 대비 차이 표시 [비교/벤치마킹]
        │           │     "+4점" (평균 이상: danger/warning 색상)
        │           │     "-5점" (평균 이하: safe 색상)
        │           └── 추세 아이콘
        │
        ├── region-detail-panel.tsx (선택된 지역)
        │     ├── 지역명 + 종합 점수
        │     ├── 5대 카테고리별 점수 바
        │     ├── 추세 표시
        │     ├── 주요 이슈 텍스트
        │     │
        │     └── region-comparison.tsx [비교/벤치마킹]
        │           ├── "전국 평균 대비" 소제목
        │           ├── 카테고리별 비교 바 차트
        │           │     각 카테고리: 지역 점수 바 + 전국 평균 점선 마커
        │           │     평균 초과 시 danger/warning 색상 강조
        │           │     평균 미만 시 safe 색상
        │           ├── 종합 비교 요약 텍스트
        │           │     "경기 지역은 전국 평균(67점) 대비 4점 높은 71점으로,
        │           │      특히 자영업(+2점), 고용(+7점) 부문에서 위험도가 높습니다."
        │           └── 순위 표시: "전국 8개 지역 중 2위"
        │
        └── region-ranking-summary.tsx [비교/벤치마킹]
              ├── "지역별 위험도 순위" 소제목
              ├── 가장 위험한 지역 TOP 3 (danger/warning 배경)
              └── 가장 안전한 지역 TOP 3 (safe 배경)
```

**비교/벤치마킹 상세 설계**:

- 전국 평균 계산: regions 데이터에서 "nationwide" 항목의 점수를 기준으로 사용
- 순위 계산: 클라이언트에서 score 기준 내림차순 정렬 (전국 제외)
- 카테고리별 비교: 선택된 지역의 각 카테고리 점수와 전국(nationwide)의 카테고리 점수를 비교
- 비교 요약 텍스트: 전국 평균과의 차이가 가장 큰 카테고리를 자동으로 언급
- 시각적 표현: 프로그레스 바 위에 전국 평균 위치를 점선 마커로 표시하여 직관적 비교

**클라이언트 상태 (regions-page.tsx)**:
- `selectedRegionId`: 선택된 지역 ID (기본: "nationwide")
- 지역 행 클릭 시 하단에 상세 패널 + 비교 정보 표시
- 전국 선택 시에는 비교 섹션 대신 region-ranking-summary만 표시

**산출물**:

| 파일 | 설명 |
|------|------|
| `app/(tabs)/regions/page.tsx` | 지역별 현황 페이지 (데이터 로딩) |
| `components/regions/regions-page.tsx` | 클라이언트 컴포넌트 |
| `components/regions/region-risk-list.tsx` | 지역 목록 래퍼 |
| `components/regions/region-risk-row.tsx` | 개별 지역 행 (순위 + 전국 대비 차이 포함) |
| `components/regions/region-detail-panel.tsx` | 선택 지역 상세 패널 |
| `components/regions/region-comparison.tsx` | **전국 평균 대비 비교 차트** |
| `components/regions/region-ranking-summary.tsx` | **지역별 위험도 순위 요약** |

---

### Phase 7: 차별화 기능 UI (AI 대화형 질의 + 위기 연쇄 반응 맵)

**목표**: 해커톤 발표에서 차별화를 만들어낼 핵심 기능 2개를 UI 수준에서 완성

---

#### 7-A. AI 대화형 질의 - "이르미에게 물어보기" (차별화 #2)

**위치**: 전체 레이아웃 우하단 플로팅 버튼 -> 클릭 시 사이드 패널 또는 모달로 확장

**컴포넌트 트리**:

```
components/layout/app-header.tsx 또는 app/(tabs)/layout.tsx
  └── components/chat/chat-fab.tsx (플로팅 버튼, "use client")
        └── 클릭 시 chat-panel.tsx 토글

components/chat/chat-panel.tsx ("use client")
  ├── chat-header.tsx
  │     ├── "이르미에게 물어보기" 제목 + AI 아이콘
  │     └── 닫기 버튼
  │
  ├── chat-messages.tsx (메시지 목록 영역)
  │     └── chat-message.tsx (xN)
  │           ├── user 메시지: 우측 정렬, primary 배경
  │           └── assistant 메시지: 좌측 정렬, secondary 배경
  │               관련 신호 링크 표시 (relatedSignals)
  │
  ├── suggested-questions.tsx (초기 상태에서만 표시)
  │     └── 추천 질문 버튼 (x4)
  │           "현재 가장 위험한 카테고리는?"
  │           "우리 지역 민생 상황은 어때?"
  │           "소상공인이 받을 수 있는 지원 정책은?"
  │           "다음 달 전망은 어떻게 돼?"
  │
  └── chat-input.tsx
        ├── 텍스트 입력 (Input 컴포넌트)
        └── 전송 버튼 (Button + 아이콘)
```

**클라이언트 상태**:
- `isOpen`: 채팅 패널 열림/닫힘
- `messages`: ChatMessage[] (대화 이력)
- `isLoading`: AI 응답 대기 중 여부
- `inputValue`: 현재 입력 텍스트

**Mock 동작 (사전 개발)**:
1. 사용자가 질문 입력 또는 추천 질문 클릭
2. `chat-examples.json`에서 가장 유사한 질문 매칭 (단순 키워드 포함 여부)
3. 매칭된 답변을 타이핑 효과로 출력
4. 매칭되지 않으면 기본 응답: "해당 질문에 대한 분석을 준비 중입니다. 현재 종합 민생 리스크 지수는 67점이며..."

**당일 전환**:
- Mock 매칭 로직을 `/api/chat` API Route 호출로 교체
- Claude API에 현재 위기 데이터를 컨텍스트로 전달하여 실시간 답변 생성

**발표 데모 시나리오**:
1. 심사위원: "경기도에서 식당 운영하는데 지금 상황이 어때?"
2. 이르미 AI가 실시간으로 경기도 자영업 위험도, 물가 상황, 관련 지원 정책을 답변
3. 단순 데이터 조회가 아닌 "맥락을 이해하는 AI 서비스"를 시연

**산출물**:

| 파일 | 설명 |
|------|------|
| `components/chat/chat-fab.tsx` | 플로팅 버튼 (우하단) |
| `components/chat/chat-panel.tsx` | 채팅 패널 메인 |
| `components/chat/chat-header.tsx` | 채팅 헤더 |
| `components/chat/chat-messages.tsx` | 메시지 목록 |
| `components/chat/chat-message.tsx` | 개별 메시지 버블 |
| `components/chat/suggested-questions.tsx` | 추천 질문 목록 |
| `components/chat/chat-input.tsx` | 입력 영역 |

---

#### 7-B. 위기 연쇄 반응 맵 (차별화 #3)

**위치**: 대시보드 탭 내 카테고리 리스크 목록 아래, 또는 별도 섹션으로 배치

**컴포넌트 트리**:

```
components/dashboard/dashboard-page.tsx (기존에 추가)
  └── components/dashboard/crisis-chain-map.tsx ("use client")
        ├── chain-map-header.tsx
        │     ├── "위기 전파 구조" 제목
        │     └── 활성 체인 표시 ("현재 2개 연쇄 반응 감지")
        │
        ├── chain-visualization.tsx (핵심 시각화 영역)
        │     ├── 5개 카테고리 노드 (원형, 오각형 배치)
        │     │     각 노드: 카테고리 아이콘 + 이름 + 점수
        │     │     점수에 따라 노드 크기/색상 변화 (등급 토큰 사용)
        │     │     활성 노드: 펄스 애니메이션
        │     │
        │     └── 엣지 (노드 간 화살표)
        │           strength에 따라 선 굵기 차등
        │           활성 체인의 엣지: 흐르는 애니메이션 (dash-offset)
        │           비활성 엣지: 회색 점선
        │
        ├── chain-legend.tsx
        │     ├── 선 굵기 범례 (strong/moderate/weak)
        │     └── 색상 범례 (등급별)
        │
        └── chain-detail.tsx (노드 또는 엣지 클릭 시)
              ├── 선택된 연쇄 경로 하이라이트
              ├── 경로 설명 텍스트
              └── "물가(72) -> 자영업(81) -> 고용(58) -> 금융(63)" 형태
```

**시각화 구현 방식 (외부 라이브러리 없이)**:
- SVG 기반 렌더링 (React에서 직접 SVG 요소 생성)
- 5개 노드를 정오각형 형태로 배치 (CSS `transform` 또는 수학적 좌표 계산)
- 엣지는 SVG `<line>` 또는 `<path>` + `marker-end` (화살표)
- 애니메이션: CSS `@keyframes` 사용
  - 노드 펄스: `scale` + `box-shadow` 애니메이션
  - 엣지 흐름: `stroke-dashoffset` 애니메이션
  - 연쇄 전파: 순차적 `animation-delay`로 경로를 따라 빛이 흐르는 효과

**인터랙션**:
- 노드 클릭: 해당 카테고리에서 시작하는 모든 연쇄 경로 하이라이트
- 노드 호버: 해당 노드의 점수, 추세, 연결된 엣지 레이블 툴팁
- 활성 체인 자동 재생: 페이지 로드 시 `currentlyActive: true`인 체인을 순차 애니메이션

**사전 완전 구현**: 이 기능은 Mock 데이터(`crisis-chain.json`)의 정적 관계 데이터만 사용하므로 해커톤 당일 추가 작업 없음.

**산출물**:

| 파일 | 설명 |
|------|------|
| `components/dashboard/crisis-chain-map.tsx` | 연쇄 반응 맵 메인 |
| `components/dashboard/chain-map-header.tsx` | 맵 헤더 |
| `components/dashboard/chain-visualization.tsx` | SVG 시각화 핵심 |
| `components/dashboard/chain-legend.tsx` | 범례 |
| `components/dashboard/chain-detail.tsx` | 클릭 시 상세 패널 |

---

### Phase 8: API Route 스캐폴딩

**목표**: Mock 데이터를 반환하는 API Route를 구성하여, 이후 실제 로직으로 교체 가능한 구조 마련

**API 엔드포인트 설계**:

| 메서드 | 경로 | 설명 | 쿼리 파라미터 |
|--------|------|------|-------------|
| GET | `/api/dashboard` | 종합 리스크 데이터 | `period` (1w/1m/3m) |
| GET | `/api/signals` | 위기 신호 목록 | `category`, `region`, `severity` |
| GET | `/api/signals/[id]` | 위기 신호 상세 | - |
| GET | `/api/news` | 뉴스 분석 결과 | `keyword`, `category` |
| GET | `/api/regions` | 지역별 현황 | - |
| GET | `/api/policies` | 지원 정책 목록 | `category`, `region`, `signalId` |
| POST | `/api/analyze` | Claude AI 분석 | body: { articles } |
| POST | `/api/chat` | AI 대화형 질의 | body: { message, context } |
| GET | `/api/briefing` | AI 브리핑 + 전망 생성 | `period` (1w/1m/3m) |

**Phase 8 구현 방식**:
- 각 API Route에서 Mock JSON을 읽어 반환
- 쿼리 파라미터에 따른 필터링 로직 포함
- 응답 형식은 `{ success: boolean, data: T, error?: string }` 통일

**UI 전환**: Phase 8 완료 후 각 페이지의 import 방식을 fetch 호출로 전환

**산출물**:

| 파일 | 설명 |
|------|------|
| `app/api/dashboard/route.ts` | 대시보드 API |
| `app/api/signals/route.ts` | 위기 신호 목록 API |
| `app/api/signals/[id]/route.ts` | 위기 신호 상세 API |
| `app/api/news/route.ts` | 뉴스 분석 API |
| `app/api/regions/route.ts` | 지역별 현황 API |
| `app/api/policies/route.ts` | 지원 정책 목록 API |
| `app/api/analyze/route.ts` | Claude AI 분석 API (인터페이스만) |
| `app/api/chat/route.ts` | AI 대화형 질의 API (Mock 매칭) |
| `app/api/briefing/route.ts` | AI 브리핑 + 전망 생성 API (Mock 반환) |
| `lib/api/news-data.ts` | JSON 데이터 로더 유틸리티 |
| `lib/api/anthropic.ts` | Claude API 클라이언트 (Mock 응답) |

---

### Phase 9: [해커톤 당일] 실데이터 교체 + Claude API 연결

**목표**: 제공된 실제 JSON 데이터와 Anthropic API를 연결하여 서비스 완성

**당일 작업 체크리스트 (우선순위 순)**:

```
[1] 환경 설정 (5분)
    - .env.local에 ANTHROPIC_API_KEY 설정
    - NEWS_DATA_PATH를 실제 JSON 경로로 변경

[2] 데이터 교체 (10분)
    - 제공된 뉴스 JSON 파일을 data/ 디렉토리에 배치
    - JSON 구조 확인 후 필요 시 lib/types.ts 필드 조정
    - news-data.ts 로더의 파일 경로 전환

[3] Claude API 기본 연결 (30분) [핵심]
    - lib/api/anthropic.ts의 Mock 응답을 실제 API 호출로 교체
    - 프롬프트 작성:
      a. 뉴스 분류 프롬프트 (카테고리 + 지역 + 키워드 추출)
      b. 위험 신호 감지 프롬프트 (심각도 판정 + 근거 추출)
      c. 리스크 점수 산출 프롬프트 (카테고리별 0~100 점수)
      d. 요약 리포트 프롬프트 (원인/영향/대응 포인트)

[4] AI 브리핑 + 전망 연결 (20분) [차별화 #1 + 전망]
    - /api/briefing에서 Mock 반환 -> Claude API 호출로 전환
    - 브리핑 생성 프롬프트 적용 (섹션 6-4 참조)
    - 전망 프롬프트 적용 (섹션 6-6 참조): 현재 추세 기반 1~3개월 전망 + 시나리오 생성
    - 스트리밍 응답으로 타이핑 효과 자연스럽게 연결

[5] AI 대화형 질의 연결 (20분) [차별화 #2]
    - /api/chat에서 Mock 매칭 -> Claude API 호출로 전환
    - 대화 프롬프트 적용 (섹션 6-5 참조)
    - 현재 위기 데이터를 system prompt 컨텍스트로 주입

[6] API Route 활성화 + 정책 데이터 보완 (15분)
    - 나머지 API Route에서 Mock -> 실제 로직 전환
    - /api/analyze에 Claude API 호출 연결
    - policies.json의 정책 데이터를 실제 최신 정책으로 업데이트 (URL, 연락처 확인)

[7] 통합 테스트 및 발표 준비 (나머지 시간)
    - 전체 흐름 확인 (대시보드 -> 위기 신호 -> 뉴스 분석 -> 지역별 현황)
    - AI 브리핑 + 전망이 정상 생성되는지 확인
    - AI 대화에 다양한 질문으로 테스트
    - 위기 연쇄 반응 맵 애니메이션 확인
    - 대응 가이드 + 정책 연결 정상 표시 확인
    - 비교/벤치마킹 수치 정상 표시 확인
    - 리포트 다운로드 기능 정상 동작 확인
    - 실제 데이터 기반 UI 미세 조정
    - 발표 데모 시나리오 리허설
```

**당일 리스크 관리**: 만약 시간이 부족할 경우 [4] AI 브리핑은 Mock 텍스트 유지로 대체 가능. [5] AI 대화형 질의가 가장 높은 발표 임팩트를 가지므로 반드시 연결한다.

---

## 6. Claude API 프롬프트 설계 (사전 준비)

해커톤 당일 빠르게 적용할 수 있도록 프롬프트 초안을 사전에 준비한다.

### 6-1. 뉴스 분류 프롬프트

```
역할: 경제 뉴스 기사를 분석하여 민생 위기 관련 카테고리로 분류한다.

입력: 뉴스 기사 제목과 본문

출력 형식 (JSON):
{
  "category": "prices|employment|selfEmployed|finance|realEstate",
  "region": "해당 지역명 또는 전국",
  "keywords": ["핵심 키워드 3~5개"],
  "riskRelevance": 0~100 (민생 위기 관련도 점수)
}

분류 기준:
- prices: 물가, 소비자물가, 식료품, 공공요금, 생활비 관련
- employment: 실업, 고용, 구조조정, 채용, 청년고용 관련
- selfEmployed: 자영업, 소상공인, 폐업, 배달앱, 임대료 관련
- finance: 금리, 대출, 연체, 가계부채, 서민금융 관련
- realEstate: 집값, 전세, 월세, 주거비, 부동산 관련
```

### 6-2. 위험 신호 감지 프롬프트

```
역할: 분류된 뉴스 기사 묶음에서 민생 위기 신호를 감지한다.

입력: 동일 카테고리/이슈의 뉴스 기사 묶음

출력 형식 (JSON):
{
  "signalDetected": true|false,
  "title": "위기 신호 제목 (한 줄)",
  "description": "상황 설명 (2~3문장)",
  "severity": "critical|warning|caution|safe",
  "evidence": ["근거 1", "근거 2", "근거 3"],
  "analysis": {
    "cause": "원인 분석 (2~3문장)",
    "impact": "영향 범위 (2~3문장)",
    "actionPoints": ["대응 포인트 1", "대응 포인트 2", "대응 포인트 3"]
  }
}

심각도 판정 기준:
- critical: 기사량 급증 + 피해 사례 다수 + 즉각 대응 필요
- warning: 지속적 증가 추세 + 잠재적 확산 위험
- caution: 초기 신호 + 추이 관찰 필요
- safe: 일시적 이슈 + 구조적 위험 낮음
```

### 6-3. 리스크 점수 산출 프롬프트

```
역할: 카테고리별 뉴스 분석 결과를 바탕으로 리스크 점수(0~100)를 산출한다.

입력: 카테고리별 뉴스 기사 수, 위험 키워드 빈도, 감지된 신호 목록

출력 형식 (JSON):
{
  "overallScore": 0~100,
  "categories": {
    "prices": { "score": 0~100, "trend": "rising|stable|falling" },
    "employment": { ... },
    "selfEmployed": { ... },
    "finance": { ... },
    "realEstate": { ... }
  },
  "reasoning": "점수 산출 근거 요약"
}

점수 기준:
- 기사량 가중치 (해당 카테고리 기사 비중)
- 위험 키워드 밀도 (부정적 키워드 출현 빈도)
- 신호 심각도 가중치 (critical > warning > caution)
- 추세 가중치 (증가 추세일수록 높은 점수)
```

### 6-4. AI 브리핑 생성 프롬프트

```
역할: 민생위기 조기경보 레이더의 AI 브리핑 앵커. 현재 위기 데이터를 종합하여
      정책 담당자와 시민이 즉시 상황을 파악할 수 있도록 자연어 브리핑을 생성한다.

입력: 종합 리스크 점수, 카테고리별 점수/추세, 최근 위기 신호 목록

출력 형식 (JSON):
{
  "summary": "3~4문장의 종합 브리핑 (가장 위험한 카테고리부터 언급)",
  "highlights": [
    { "category": "카테고리키", "message": "한 줄 핵심 메시지" }
  ],
  "recommendation": "1~2문장의 종합 권고사항"
}

톤앤매너:
- 뉴스 앵커처럼 객관적이면서 긴박감 전달
- 구체적 수치 포함 (점수, 등급, 변동폭)
- 전문 용어 최소화, 시민도 이해 가능한 표현
- 이모티콘 사용하지 않음
```

### 6-5. AI 대화형 질의 프롬프트

```
역할: "이르미" - 민생위기 조기경보 레이더의 AI 상담사.
      시민과 정책 담당자의 질문에 현재 위기 데이터를 기반으로 맞춤 답변을 제공한다.

시스템 프롬프트 (매 대화 시 주입):
  당신은 "이르미"입니다. 민생위기 조기경보 레이더의 AI 분석 상담사입니다.
  현재 위기 데이터를 기반으로 사용자의 질문에 답변합니다.

  현재 데이터:
  - 종합 리스크 지수: {overallScore}점
  - 카테고리별: 물가 {prices.score}점, 고용 {employment.score}점, ...
  - 최근 긴급 신호: {recentSignals 목록}
  - 지역별 현황: {regions 요약}

  답변 원칙:
  1. 구체적 수치와 근거를 포함하여 답변
  2. 가능하면 관련 지원 정책이나 기관 정보 안내
  3. 질문에 맞는 지역/업종 맥락 반영
  4. 200자 내외로 핵심만 전달
  5. 이모티콘 사용하지 않음
  6. 불확실한 정보는 "현재 데이터 기준"임을 명시

입력: 사용자 메시지 + 대화 이력

출력: 자연어 답변 텍스트 (마크다운 형식 가능)
```

### 6-6. 전망/예측 생성 프롬프트

```
역할: 민생위기 조기경보 레이더의 AI 전망 분석가.
      현재 위기 데이터의 추세를 분석하여 향후 1~3개월의 전망을 생성한다.

입력: 종합 리스크 점수, 카테고리별 점수/추세, 최근 위기 신호 목록, 과거 추세 데이터

출력 형식 (JSON):
{
  "period": "1~3개월",
  "outlook": "3~4문장의 전망 텍스트 (추세 지속 시 예상 상황, 주요 변수, 분기점 설명)",
  "scenarios": [
    {
      "type": "current",
      "label": "현재 추세 유지 시",
      "overallScore": 0~100,
      "description": "1~2문장으로 해당 시나리오 설명"
    },
    {
      "type": "withResponse",
      "label": "선제 대응 시",
      "overallScore": 0~100,
      "description": "1~2문장으로 대응 효과 설명"
    }
  ]
}

분석 기준:
- 각 카테고리의 trend(rising/stable/falling)를 가중치로 반영
- rising 카테고리가 많을수록 전체 전망 점수 상승
- 복합 위기 패턴(2개 이상 카테고리 동시 rising)은 추가 가중치
- "선제 대응 시" 시나리오는 가장 위험한 카테고리에 정책 개입 가정

톤앤매너:
- 객관적 데이터 기반 분석 (추측 최소화)
- "현재 데이터 추세 기준" 전제 명시
- 구체적 수치와 근거 포함
- 이모티콘 사용하지 않음
```

---

## 7. 필요 shadcn 컴포넌트 점검

### 7-1. 기존 설치 확인

```
이미 설치됨:
  alert-dialog, badge, button, card, combobox,
  dropdown-menu, field, input, input-group,
  label, select, separator, textarea
```

### 7-2. 추가 설치 필요 (예상)

| 컴포넌트 | 용도 | Phase |
|---------|------|-------|
| tabs | 탭 네비게이션 | Phase 2 |
| progress | 카테고리 위험도 바, 지역 리스크 바 | Phase 3 |
| dialog | 신호 상세 보기 (alert-dialog 대체 가능 여부 확인) | Phase 4 |
| scroll-area | 긴 목록 스크롤 | Phase 4~6 |
| skeleton | 로딩 상태 UI | Phase 7 |
| toast | 에러/알림 메시지 | Phase 7 |

설치 전 반드시 shadcn MCP의 `search_items_in_registries`로 확인 후 `get_add_command_for_items`로 설치한다.

---

## 8. 전체 파일 목록 (최종 산출물)

```
-- Phase 1: 기반 --
lib/types.ts
lib/constants.ts
app/globals.css (수정)
data/mock/dashboard.json
data/mock/signals.json
data/mock/news.json
data/mock/regions.json
data/mock/briefing.json
data/mock/chat-examples.json
data/mock/crisis-chain.json
data/mock/policies.json                              [대응 가이드 + 정책 연결]
.env.example

-- Phase 2: 레이아웃 --
components/layout/app-header.tsx
components/layout/tab-navigation.tsx
app/layout.tsx (수정)
app/(tabs)/layout.tsx

-- Phase 3: 대시보드 + AI 브리핑 + 전망 + 리포트 --
app/(tabs)/page.tsx
components/dashboard/dashboard-page.tsx
components/dashboard/ai-briefing-panel.tsx          [차별화 #1]
components/dashboard/forecast-panel.tsx              [전망]
components/dashboard/dashboard-header.tsx
components/dashboard/report-download-button.tsx      [리포트 다운로드]
components/dashboard/dashboard-summary.tsx
components/dashboard/risk-gauge.tsx
components/dashboard/signal-stats.tsx
components/dashboard/category-risk-list.tsx
components/dashboard/category-risk-bar.tsx
components/dashboard/recent-signals.tsx
components/dashboard/signal-preview-card.tsx

-- Phase 4: 위기 신호 + 대응 가이드 --
app/(tabs)/signals/page.tsx
components/signals/signals-page.tsx
components/signals/signals-filter-bar.tsx
components/signals/signal-list.tsx
components/signals/signal-card.tsx
components/signals/signal-detail-dialog.tsx
components/signals/action-guide-section.tsx          [대응 가이드 + 정책 연결]
components/signals/policy-card.tsx                   [대응 가이드 + 정책 연결]

-- Phase 5: 뉴스 분석 --
app/(tabs)/news/page.tsx
components/news/news-page.tsx
components/news/news-search-bar.tsx
components/news/news-category-filter.tsx
components/news/news-list.tsx
components/news/news-card.tsx

-- Phase 6: 지역별 현황 + 비교/벤치마킹 --
app/(tabs)/regions/page.tsx
components/regions/regions-page.tsx
components/regions/region-risk-list.tsx
components/regions/region-risk-row.tsx
components/regions/region-detail-panel.tsx
components/regions/region-comparison.tsx             [비교/벤치마킹]
components/regions/region-ranking-summary.tsx         [비교/벤치마킹]

-- Phase 7: 차별화 기능 --
components/chat/chat-fab.tsx                        [차별화 #2]
components/chat/chat-panel.tsx                      [차별화 #2]
components/chat/chat-header.tsx                     [차별화 #2]
components/chat/chat-messages.tsx                   [차별화 #2]
components/chat/chat-message.tsx                    [차별화 #2]
components/chat/suggested-questions.tsx              [차별화 #2]
components/chat/chat-input.tsx                      [차별화 #2]
components/dashboard/crisis-chain-map.tsx            [차별화 #3]
components/dashboard/chain-map-header.tsx            [차별화 #3]
components/dashboard/chain-visualization.tsx         [차별화 #3]
components/dashboard/chain-legend.tsx                [차별화 #3]
components/dashboard/chain-detail.tsx                [차별화 #3]

-- Phase 8: API Route --
app/api/dashboard/route.ts
app/api/signals/route.ts
app/api/signals/[id]/route.ts
app/api/news/route.ts
app/api/regions/route.ts
app/api/policies/route.ts                            [대응 가이드 + 정책 연결]
app/api/analyze/route.ts
app/api/chat/route.ts
app/api/briefing/route.ts
lib/api/news-data.ts
lib/api/anthropic.ts

-- 기존 삭제 대상 --
app/page.tsx (기존 예시 -> (tabs)/page.tsx로 이동)
components/component-example.tsx (예시 컴포넌트, 삭제)
components/example.tsx (예시 컴포넌트, 삭제)
```

**총 파일 수**: 약 63개 (기반 12 + 레이아웃 4 + 대시보드 13 + 위기신호 8 + 뉴스 6 + 지역 7 + 차별화 12 + API 11 - 삭제 3)

**추가된 파일 (기존 대비 +8개)**:
| 파일 | 기능 |
|------|------|
| `data/mock/policies.json` | 지원 정책 Mock 데이터 |
| `components/dashboard/forecast-panel.tsx` | 전망 패널 |
| `components/dashboard/report-download-button.tsx` | 리포트 다운로드 버튼 |
| `components/signals/action-guide-section.tsx` | 대응 가이드 섹션 |
| `components/signals/policy-card.tsx` | 지원 정책 카드 |
| `components/regions/region-comparison.tsx` | 전국 평균 대비 비교 |
| `components/regions/region-ranking-summary.tsx` | 지역 순위 요약 |
| `app/api/policies/route.ts` | 정책 API |

---

## 9. 발표 데모 시나리오

해커톤 발표 시 차별화 기능 + 실용성 강화 기능을 효과적으로 시연하는 흐름.

```
[오프닝] AI 브리핑 + 전망으로 시작 (30초)
  - 대시보드 페이지 진입
  - AI 브리핑 패널에서 타이핑 효과로 "오늘의 민생 브리핑" 자동 생성
  - "현재 자영업 부문의 위험도가 81점으로 가장 높습니다..."
  - 전망 패널: "현재 추세 유지 시 1개월 후 73점" vs "선제 대응 시 62점" 시나리오 비교
  - "AI가 현재 상황뿐 아니라 앞으로의 전망까지 분석합니다"

[대시보드 시연] 종합 현황 파악 (1분)
  - 종합 리스크 게이지 67점 확인
  - 5대 카테고리별 위험도 바 스캔
  - 긴급 2건, 주의 5건 신호 통계 확인
  - "리포트 다운로드" 버튼 클릭 -> PDF 생성 시연
  - "담당자가 주간 보고에 바로 활용할 수 있습니다"

[연쇄 반응 맵] 위기 구조 시각화 (30초)
  - 대시보드 하단 "위기 전파 구조" 섹션으로 스크롤
  - "물가 -> 자영업 -> 고용 -> 금융" 연쇄 반응 애니메이션 시연
  - "단순 숫자가 아닌, 위기의 구조적 관계를 보여줍니다"

[탭 순회] 상세 기능 시연 (1분 30초)
  - 위기 신호 탭: 긴급 신호 상세 분석 열기 (근거 + 대응 포인트)
    -> "대응 가이드" 섹션: 실질적 행동 요령 확인
    -> "관련 지원 정책": 소상공인 경영안정자금, 배달 수수료 지원 사업 등 매칭된 정책 카드
    -> "분석에서 끝나지 않고, 구체적인 대응 방안과 지원 정책까지 연결합니다"
  - 뉴스 분석 탭: 키워드 검색으로 관련 기사 필터링
  - 지역별 현황 탭: 경기도 선택
    -> 전국 평균 대비 비교 차트: "경기도 71점, 전국 평균 67점 대비 +4점"
    -> 카테고리별 비교: "특히 고용(+7점) 부문에서 전국 대비 위험도 높음"
    -> 지역 순위 표시: "전국 8개 지역 중 위험도 2위"

[클라이맥스] AI 대화형 질의 라이브 데모 (1분)
  - 우하단 플로팅 버튼 클릭 -> 채팅 패널 열기
  - 심사위원 또는 청중에게 질문 요청
  - 예시: "서울에서 카페를 운영 중인데, 지금 뭘 조심해야 해?"
  - Claude AI가 실시간으로 맞춤 답변 생성
  - "데이터를 보여주는 것에서 끝나지 않고, AI가 해석하고 대화하는 서비스입니다"

[마무리] 핵심 메시지 (30초)
  - "민생 위기는 느리게 시작해 갑자기 폭발합니다"
  - "이르미는 뉴스 데이터와 AI를 결합해 위기를 조기에 감지하고,
    전망을 제시하며, 실질적 대응 방안까지 연결하는 완결형 서비스입니다"
```

---

## 10. 구현 시 주의사항

1. **하드코딩 금지**: 모든 색상은 globals.css 토큰 사용. `bg-red-500` 대신 `bg-danger` 사용.
2. **이모티콘 금지**: 아이콘은 반드시 HugeIcons 사용. UI 텍스트에 이모지 포함하지 않음.
3. **환경변수 분리**: API 키, 데이터 경로 등 모든 설정값은 `.env.local`에서 관리.
4. **MCP 활용**: UI 컴포넌트 추가 시 shadcn MCP, 로직 설계 시 sequential-thinking, 문법 확인 시 context7 사용.
5. **Server/Client 분리**: 데이터 로딩은 Server Component, 인터랙션(필터/검색/선택/채팅)은 Client Component.
6. **Mock 교체 용이성**: 데이터 로딩 계층을 분리하여 import -> fetch 전환이 파일 1~2개 수정으로 가능하도록 설계.
7. **AI 브리핑 패널**: Mock 단계에서는 briefing.json의 텍스트를 타이핑 효과로 표시. 당일 Claude API 스트리밍으로 전환.
8. **AI 채팅**: Mock 단계에서는 chat-examples.json에서 키워드 매칭으로 응답. 당일 Claude API 호출로 전환. 채팅 이력은 클라이언트 상태(useState)로만 관리 (DB 불필요).
9. **연쇄 반응 맵**: 외부 차트 라이브러리 없이 SVG + CSS 애니메이션으로 구현. crisis-chain.json의 정적 데이터만 사용하므로 당일 추가 작업 없음.
10. **발표 안전장치**: 모든 차별화 기능은 Mock 모드에서도 완전히 동작하도록 구현. 당일 API 연결에 실패해도 Mock 데이터로 데모 가능.
11. **전망 패널**: Mock 단계에서는 briefing.json의 forecast 데이터를 표시. 당일 Claude API가 추세 분석 기반으로 전망 + 시나리오를 생성. 시나리오 비교 카드는 사전 완전 구현.
12. **대응 가이드 + 정책 연결**: policies.json의 Mock 데이터는 실제 정책 기관명/연락처/URL을 사용하여 사전 구현 단계에서도 현실감 있게 구성. 당일에는 URL/연락처 최신화만 수행.
13. **비교/벤치마킹**: regions.json의 "nationwide" 데이터를 전국 평균으로 사용. 순위 계산은 클라이언트에서 score 정렬로 수행. 추가 API 불필요.
14. **리포트 다운로드**: 외부 PDF 라이브러리 없이 `window.print()` + `@media print` CSS로 구현. 인쇄 레이아웃에서 탭/헤더 숨기고 데이터 영역만 깔끔하게 출력되도록 설계.
